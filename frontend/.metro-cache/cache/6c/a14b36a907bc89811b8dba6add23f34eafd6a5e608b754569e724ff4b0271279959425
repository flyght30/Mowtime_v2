{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":99},"end":{"line":6,"column":65,"index":164}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":165},"end":{"line":7,"column":69,"index":234}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../constants/config","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":235},"end":{"line":8,"column":46,"index":281}}],"key":"TYW5XdhaoOjubMzak8TLCfBrAGc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  /**\n   * Dispatch WebSocket Hook\n   * Real-time updates for dispatch board with auto-reconnection\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  exports.useDispatchWebSocket = useDispatchWebSocket;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _constantsConfig = require(_dependencyMap[2], \"../constants/config\");\n  const MAX_RECONNECT_ATTEMPTS = 10;\n  const INITIAL_RECONNECT_DELAY = 1000; // 1 second\n  const MAX_RECONNECT_DELAY = 30000; // 30 seconds\n  const PING_INTERVAL = 30000; // 30 seconds\n\n  function useDispatchWebSocket({\n    businessId,\n    onTechLocation,\n    onTechStatus,\n    onJobAssigned,\n    onJobStatus,\n    onConnectionChange\n  }) {\n    _s();\n    const [connected, setConnected] = (0, _react.useState)(false);\n    const [reconnecting, setReconnecting] = (0, _react.useState)(false);\n    const [reconnectAttempts, setReconnectAttempts] = (0, _react.useState)(0);\n    const [lastMessage, setLastMessage] = (0, _react.useState)(null);\n    const wsRef = (0, _react.useRef)(null);\n    const reconnectTimeoutRef = (0, _react.useRef)(null);\n    const pingIntervalRef = (0, _react.useRef)(null);\n    const isManualDisconnect = (0, _react.useRef)(false);\n\n    // Calculate reconnect delay with exponential backoff\n    const getReconnectDelay = (0, _react.useCallback)(attempt => {\n      const delay = INITIAL_RECONNECT_DELAY * Math.pow(2, attempt);\n      return Math.min(delay, MAX_RECONNECT_DELAY);\n    }, []);\n\n    // Clean up timers\n    const clearTimers = (0, _react.useCallback)(() => {\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current);\n        reconnectTimeoutRef.current = null;\n      }\n      if (pingIntervalRef.current) {\n        clearInterval(pingIntervalRef.current);\n        pingIntervalRef.current = null;\n      }\n    }, []);\n\n    // Handle incoming messages\n    const handleMessage = (0, _react.useCallback)(event => {\n      try {\n        const message = JSON.parse(event.data);\n        setLastMessage(message);\n        switch (message.type) {\n          case 'tech_location':\n            onTechLocation?.(message.data);\n            break;\n          case 'tech_status':\n            onTechStatus?.(message.data);\n            break;\n          case 'job_assigned':\n            onJobAssigned?.(message.data);\n            break;\n          case 'job_status':\n            onJobStatus?.(message.data);\n            break;\n          case 'connected':\n            console.log('[WS] Connected to dispatch', message.data);\n            break;\n          case 'pong':\n            // Heartbeat response, connection is alive\n            break;\n        }\n      } catch (error) {\n        console.error('[WS] Failed to parse message:', error);\n      }\n    }, [onTechLocation, onTechStatus, onJobAssigned, onJobStatus]);\n\n    // Start ping interval to keep connection alive\n    const startPingInterval = (0, _react.useCallback)(() => {\n      pingIntervalRef.current = setInterval(() => {\n        if (wsRef.current?.readyState === WebSocket.OPEN) {\n          wsRef.current.send(JSON.stringify({\n            type: 'ping'\n          }));\n        }\n      }, PING_INTERVAL);\n    }, []);\n\n    // Connect to WebSocket\n    const connect = (0, _react.useCallback)(async () => {\n      if (wsRef.current?.readyState === WebSocket.OPEN) {\n        return; // Already connected\n      }\n      isManualDisconnect.current = false;\n      try {\n        // Get auth token\n        const token = await AsyncStorage.default.getItem('access_token');\n        if (!token) {\n          console.error('[WS] No auth token available');\n          return;\n        }\n\n        // Build WebSocket URL\n        const wsUrl = _constantsConfig.API_URL.replace('http', 'ws').replace('/api/v1', '');\n        const url = `${wsUrl}/ws/dispatch/${businessId}?token=${token}`;\n        console.log('[WS] Connecting to:', url.replace(token, '***'));\n        wsRef.current = new WebSocket(url);\n        wsRef.current.onopen = () => {\n          console.log('[WS] Connected');\n          setConnected(true);\n          setReconnecting(false);\n          setReconnectAttempts(0);\n          onConnectionChange?.(true);\n          startPingInterval();\n        };\n        wsRef.current.onmessage = handleMessage;\n        wsRef.current.onerror = error => {\n          console.error('[WS] Error:', error);\n        };\n        wsRef.current.onclose = event => {\n          console.log('[WS] Closed:', event.code, event.reason);\n          setConnected(false);\n          onConnectionChange?.(false);\n          clearTimers();\n\n          // Auto-reconnect unless manually disconnected\n          if (!isManualDisconnect.current && reconnectAttempts < MAX_RECONNECT_ATTEMPTS) {\n            setReconnecting(true);\n            const delay = getReconnectDelay(reconnectAttempts);\n            console.log(`[WS] Reconnecting in ${delay}ms (attempt ${reconnectAttempts + 1}/${MAX_RECONNECT_ATTEMPTS})`);\n            reconnectTimeoutRef.current = setTimeout(() => {\n              setReconnectAttempts(prev => prev + 1);\n              connect();\n            }, delay);\n          } else if (reconnectAttempts >= MAX_RECONNECT_ATTEMPTS) {\n            console.error('[WS] Max reconnect attempts reached');\n            setReconnecting(false);\n          }\n        };\n      } catch (error) {\n        console.error('[WS] Connection error:', error);\n      }\n    }, [businessId, handleMessage, startPingInterval, clearTimers, getReconnectDelay, reconnectAttempts, onConnectionChange]);\n\n    // Disconnect from WebSocket\n    const disconnect = (0, _react.useCallback)(() => {\n      isManualDisconnect.current = true;\n      clearTimers();\n      if (wsRef.current) {\n        wsRef.current.close(1000, 'Manual disconnect');\n        wsRef.current = null;\n      }\n      setConnected(false);\n      setReconnecting(false);\n      setReconnectAttempts(0);\n      onConnectionChange?.(false);\n    }, [clearTimers, onConnectionChange]);\n\n    // Connect on mount, disconnect on unmount\n    (0, _react.useEffect)(() => {\n      if (businessId) {\n        connect();\n      }\n      return () => {\n        disconnect();\n      };\n    }, [businessId]); // Only depend on businessId to avoid reconnecting on every render\n\n    return {\n      connected,\n      reconnecting,\n      reconnectAttempts,\n      lastMessage,\n      connect,\n      disconnect\n    };\n  }\n  _s(useDispatchWebSocket, \"WVFaPtivMpjfWkW7BWERA3IA+dY=\");\n  var _default = useDispatchWebSocket;\n});","lineCount":201,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,2,1,0,"Object"],[9,8,1,0],[9,9,1,0,"defineProperty"],[9,23,1,0],[9,24,1,0,"exports"],[9,31,1,0],[10,4,1,0,"value"],[10,9,1,0],[11,2,1,0],[12,2,1,0],[12,11,1,0,"_interopDefault"],[12,27,1,0,"e"],[12,28,1,0],[13,4,1,0],[13,11,1,0,"e"],[13,12,1,0],[13,16,1,0,"e"],[13,17,1,0],[13,18,1,0,"__esModule"],[13,28,1,0],[13,31,1,0,"e"],[13,32,1,0],[14,6,1,0,"default"],[14,13,1,0],[14,15,1,0,"e"],[15,4,1,0],[16,2,1,0],[17,2,244,0,"Object"],[17,8,244,0],[17,9,244,0,"defineProperty"],[17,23,244,0],[17,24,244,0,"exports"],[17,31,244,0],[18,4,244,0,"enumerable"],[18,14,244,0],[19,4,244,0,"get"],[19,7,244,0],[19,18,244,0,"get"],[19,19,244,0],[20,6,244,0],[20,13,244,0,"_default"],[20,21,244,0],[21,4,244,0],[22,2,244,0],[23,2,66,0,"exports"],[23,9,66,0],[23,10,66,0,"useDispatchWebSocket"],[23,30,66,0],[23,33,66,0,"useDispatchWebSocket"],[23,53,66,0],[24,2,6,0],[24,6,6,0,"_react"],[24,12,6,0],[24,15,6,0,"require"],[24,22,6,0],[24,23,6,0,"_dependencyMap"],[24,37,6,0],[25,2,7,0],[25,6,7,0,"_reactNativeAsyncStorageAsyncStorage"],[25,42,7,0],[25,45,7,0,"require"],[25,52,7,0],[25,53,7,0,"_dependencyMap"],[25,67,7,0],[26,2,7,0],[26,6,7,0,"AsyncStorage"],[26,18,7,0],[26,21,7,0,"_interopDefault"],[26,36,7,0],[26,37,7,0,"_reactNativeAsyncStorageAsyncStorage"],[26,73,7,0],[27,2,8,0],[27,6,8,0,"_constantsConfig"],[27,22,8,0],[27,25,8,0,"require"],[27,32,8,0],[27,33,8,0,"_dependencyMap"],[27,47,8,0],[28,2,61,0],[28,8,61,6,"MAX_RECONNECT_ATTEMPTS"],[28,30,61,28],[28,33,61,31],[28,35,61,33],[29,2,62,0],[29,8,62,6,"INITIAL_RECONNECT_DELAY"],[29,31,62,29],[29,34,62,32],[29,38,62,36],[29,39,62,37],[29,40,62,38],[30,2,63,0],[30,8,63,6,"MAX_RECONNECT_DELAY"],[30,27,63,25],[30,30,63,28],[30,35,63,33],[30,36,63,34],[30,37,63,35],[31,2,64,0],[31,8,64,6,"PING_INTERVAL"],[31,21,64,19],[31,24,64,22],[31,29,64,27],[31,30,64,28],[31,31,64,29],[33,2,66,7],[33,11,66,16,"useDispatchWebSocket"],[33,31,66,36,"useDispatchWebSocket"],[33,32,66,37],[34,4,67,2,"businessId"],[34,14,67,12],[35,4,68,2,"onTechLocation"],[35,18,68,16],[36,4,69,2,"onTechStatus"],[36,16,69,14],[37,4,70,2,"onJobAssigned"],[37,17,70,15],[38,4,71,2,"onJobStatus"],[38,15,71,13],[39,4,72,2,"onConnectionChange"],[40,2,73,29],[40,3,73,30],[40,5,73,60],[41,4,73,60,"_s"],[41,6,73,60],[42,4,74,2],[42,10,74,8],[42,11,74,9,"connected"],[42,20,74,18],[42,22,74,20,"setConnected"],[42,34,74,32],[42,35,74,33],[42,38,74,36],[42,42,74,36,"useState"],[42,48,74,44],[42,49,74,44,"useState"],[42,57,74,44],[42,59,74,45],[42,64,74,50],[42,65,74,51],[43,4,75,2],[43,10,75,8],[43,11,75,9,"reconnecting"],[43,23,75,21],[43,25,75,23,"setReconnecting"],[43,40,75,38],[43,41,75,39],[43,44,75,42],[43,48,75,42,"useState"],[43,54,75,50],[43,55,75,50,"useState"],[43,63,75,50],[43,65,75,51],[43,70,75,56],[43,71,75,57],[44,4,76,2],[44,10,76,8],[44,11,76,9,"reconnectAttempts"],[44,28,76,26],[44,30,76,28,"setReconnectAttempts"],[44,50,76,48],[44,51,76,49],[44,54,76,52],[44,58,76,52,"useState"],[44,64,76,60],[44,65,76,60,"useState"],[44,73,76,60],[44,75,76,61],[44,76,76,62],[44,77,76,63],[45,4,77,2],[45,10,77,8],[45,11,77,9,"lastMessage"],[45,22,77,20],[45,24,77,22,"setLastMessage"],[45,38,77,36],[45,39,77,37],[45,42,77,40],[45,46,77,40,"useState"],[45,52,77,48],[45,53,77,48,"useState"],[45,61,77,48],[45,63,77,74],[45,67,77,78],[45,68,77,79],[46,4,79,2],[46,10,79,8,"wsRef"],[46,15,79,13],[46,18,79,16],[46,22,79,16,"useRef"],[46,28,79,22],[46,29,79,22,"useRef"],[46,35,79,22],[46,37,79,41],[46,41,79,45],[46,42,79,46],[47,4,80,2],[47,10,80,8,"reconnectTimeoutRef"],[47,29,80,27],[47,32,80,30],[47,36,80,30,"useRef"],[47,42,80,36],[47,43,80,36,"useRef"],[47,49,80,36],[47,51,80,75],[47,55,80,79],[47,56,80,80],[48,4,81,2],[48,10,81,8,"pingIntervalRef"],[48,25,81,23],[48,28,81,26],[48,32,81,26,"useRef"],[48,38,81,32],[48,39,81,32,"useRef"],[48,45,81,32],[48,47,81,72],[48,51,81,76],[48,52,81,77],[49,4,82,2],[49,10,82,8,"isManualDisconnect"],[49,28,82,26],[49,31,82,29],[49,35,82,29,"useRef"],[49,41,82,35],[49,42,82,35,"useRef"],[49,48,82,35],[49,50,82,36],[49,55,82,41],[49,56,82,42],[51,4,84,2],[52,4,85,2],[52,10,85,8,"getReconnectDelay"],[52,27,85,25],[52,30,85,28],[52,34,85,28,"useCallback"],[52,40,85,39],[52,41,85,39,"useCallback"],[52,52,85,39],[52,54,85,41,"attempt"],[52,61,85,56],[52,65,85,69],[53,6,86,4],[53,12,86,10,"delay"],[53,17,86,15],[53,20,86,18,"INITIAL_RECONNECT_DELAY"],[53,43,86,41],[53,46,86,44,"Math"],[53,50,86,48],[53,51,86,49,"pow"],[53,54,86,52],[53,55,86,53],[53,56,86,54],[53,58,86,56,"attempt"],[53,65,86,63],[53,66,86,64],[54,6,87,4],[54,13,87,11,"Math"],[54,17,87,15],[54,18,87,16,"min"],[54,21,87,19],[54,22,87,20,"delay"],[54,27,87,25],[54,29,87,27,"MAX_RECONNECT_DELAY"],[54,48,87,46],[54,49,87,47],[55,4,88,2],[55,5,88,3],[55,7,88,5],[55,9,88,7],[55,10,88,8],[57,4,90,2],[58,4,91,2],[58,10,91,8,"clearTimers"],[58,21,91,19],[58,24,91,22],[58,28,91,22,"useCallback"],[58,34,91,33],[58,35,91,33,"useCallback"],[58,46,91,33],[58,48,91,34],[58,54,91,40],[59,6,92,4],[59,10,92,8,"reconnectTimeoutRef"],[59,29,92,27],[59,30,92,28,"current"],[59,37,92,35],[59,39,92,37],[60,8,93,6,"clearTimeout"],[60,20,93,18],[60,21,93,19,"reconnectTimeoutRef"],[60,40,93,38],[60,41,93,39,"current"],[60,48,93,46],[60,49,93,47],[61,8,94,6,"reconnectTimeoutRef"],[61,27,94,25],[61,28,94,26,"current"],[61,35,94,33],[61,38,94,36],[61,42,94,40],[62,6,95,4],[63,6,96,4],[63,10,96,8,"pingIntervalRef"],[63,25,96,23],[63,26,96,24,"current"],[63,33,96,31],[63,35,96,33],[64,8,97,6,"clearInterval"],[64,21,97,19],[64,22,97,20,"pingIntervalRef"],[64,37,97,35],[64,38,97,36,"current"],[64,45,97,43],[64,46,97,44],[65,8,98,6,"pingIntervalRef"],[65,23,98,21],[65,24,98,22,"current"],[65,31,98,29],[65,34,98,32],[65,38,98,36],[66,6,99,4],[67,4,100,2],[67,5,100,3],[67,7,100,5],[67,9,100,7],[67,10,100,8],[69,4,102,2],[70,4,103,2],[70,10,103,8,"handleMessage"],[70,23,103,21],[70,26,103,24],[70,30,103,24,"useCallback"],[70,36,103,35],[70,37,103,35,"useCallback"],[70,48,103,35],[70,50,103,37,"event"],[70,55,103,56],[70,59,103,61],[71,6,104,4],[71,10,104,8],[72,8,105,6],[72,14,105,12,"message"],[72,21,105,37],[72,24,105,40,"JSON"],[72,28,105,44],[72,29,105,45,"parse"],[72,34,105,50],[72,35,105,51,"event"],[72,40,105,56],[72,41,105,57,"data"],[72,45,105,61],[72,46,105,62],[73,8,106,6,"setLastMessage"],[73,22,106,20],[73,23,106,21,"message"],[73,30,106,28],[73,31,106,29],[74,8,108,6],[74,16,108,14,"message"],[74,23,108,21],[74,24,108,22,"type"],[74,28,108,26],[75,10,109,8],[75,15,109,13],[75,30,109,28],[76,12,110,10,"onTechLocation"],[76,26,110,24],[76,29,110,27,"message"],[76,36,110,34],[76,37,110,35,"data"],[76,41,110,39],[76,42,110,40],[77,12,111,10],[78,10,112,8],[78,15,112,13],[78,28,112,26],[79,12,113,10,"onTechStatus"],[79,24,113,22],[79,27,113,25,"message"],[79,34,113,32],[79,35,113,33,"data"],[79,39,113,37],[79,40,113,38],[80,12,114,10],[81,10,115,8],[81,15,115,13],[81,29,115,27],[82,12,116,10,"onJobAssigned"],[82,25,116,23],[82,28,116,26,"message"],[82,35,116,33],[82,36,116,34,"data"],[82,40,116,38],[82,41,116,39],[83,12,117,10],[84,10,118,8],[84,15,118,13],[84,27,118,25],[85,12,119,10,"onJobStatus"],[85,23,119,21],[85,26,119,24,"message"],[85,33,119,31],[85,34,119,32,"data"],[85,38,119,36],[85,39,119,37],[86,12,120,10],[87,10,121,8],[87,15,121,13],[87,26,121,24],[88,12,122,10,"console"],[88,19,122,17],[88,20,122,18,"log"],[88,23,122,21],[88,24,122,22],[88,52,122,50],[88,54,122,52,"message"],[88,61,122,59],[88,62,122,60,"data"],[88,66,122,64],[88,67,122,65],[89,12,123,10],[90,10,124,8],[90,15,124,13],[90,21,124,19],[91,12,125,10],[92,12,126,10],[93,8,127,6],[94,6,128,4],[94,7,128,5],[94,8,128,6],[94,15,128,13,"error"],[94,20,128,18],[94,22,128,20],[95,8,129,6,"console"],[95,15,129,13],[95,16,129,14,"error"],[95,21,129,19],[95,22,129,20],[95,53,129,51],[95,55,129,53,"error"],[95,60,129,58],[95,61,129,59],[96,6,130,4],[97,4,131,2],[97,5,131,3],[97,7,131,5],[97,8,131,6,"onTechLocation"],[97,22,131,20],[97,24,131,22,"onTechStatus"],[97,36,131,34],[97,38,131,36,"onJobAssigned"],[97,51,131,49],[97,53,131,51,"onJobStatus"],[97,64,131,62],[97,65,131,63],[97,66,131,64],[99,4,133,2],[100,4,134,2],[100,10,134,8,"startPingInterval"],[100,27,134,25],[100,30,134,28],[100,34,134,28,"useCallback"],[100,40,134,39],[100,41,134,39,"useCallback"],[100,52,134,39],[100,54,134,40],[100,60,134,46],[101,6,135,4,"pingIntervalRef"],[101,21,135,19],[101,22,135,20,"current"],[101,29,135,27],[101,32,135,30,"setInterval"],[101,43,135,41],[101,44,135,42],[101,50,135,48],[102,8,136,6],[102,12,136,10,"wsRef"],[102,17,136,15],[102,18,136,16,"current"],[102,25,136,23],[102,27,136,25,"readyState"],[102,37,136,35],[102,42,136,40,"WebSocket"],[102,51,136,49],[102,52,136,50,"OPEN"],[102,56,136,54],[102,58,136,56],[103,10,137,8,"wsRef"],[103,15,137,13],[103,16,137,14,"current"],[103,23,137,21],[103,24,137,22,"send"],[103,28,137,26],[103,29,137,27,"JSON"],[103,33,137,31],[103,34,137,32,"stringify"],[103,43,137,41],[103,44,137,42],[104,12,137,44,"type"],[104,16,137,48],[104,18,137,50],[105,10,137,57],[105,11,137,58],[105,12,137,59],[105,13,137,60],[106,8,138,6],[107,6,139,4],[107,7,139,5],[107,9,139,7,"PING_INTERVAL"],[107,22,139,20],[107,23,139,21],[108,4,140,2],[108,5,140,3],[108,7,140,5],[108,9,140,7],[108,10,140,8],[110,4,142,2],[111,4,143,2],[111,10,143,8,"connect"],[111,17,143,15],[111,20,143,18],[111,24,143,18,"useCallback"],[111,30,143,29],[111,31,143,29,"useCallback"],[111,42,143,29],[111,44,143,30],[111,56,143,42],[112,6,144,4],[112,10,144,8,"wsRef"],[112,15,144,13],[112,16,144,14,"current"],[112,23,144,21],[112,25,144,23,"readyState"],[112,35,144,33],[112,40,144,38,"WebSocket"],[112,49,144,47],[112,50,144,48,"OPEN"],[112,54,144,52],[112,56,144,54],[113,8,145,6],[113,15,145,13],[113,16,145,14],[114,6,146,4],[115,6,148,4,"isManualDisconnect"],[115,24,148,22],[115,25,148,23,"current"],[115,32,148,30],[115,35,148,33],[115,40,148,38],[116,6,150,4],[116,10,150,8],[117,8,151,6],[118,8,152,6],[118,14,152,12,"token"],[118,19,152,17],[118,22,152,20],[118,28,152,26,"AsyncStorage"],[118,40,152,38],[118,41,152,38,"default"],[118,48,152,38],[118,49,152,39,"getItem"],[118,56,152,46],[118,57,152,47],[118,71,152,61],[118,72,152,62],[119,8,153,6],[119,12,153,10],[119,13,153,11,"token"],[119,18,153,16],[119,20,153,18],[120,10,154,8,"console"],[120,17,154,15],[120,18,154,16,"error"],[120,23,154,21],[120,24,154,22],[120,54,154,52],[120,55,154,53],[121,10,155,8],[122,8,156,6],[124,8,158,6],[125,8,159,6],[125,14,159,12,"wsUrl"],[125,19,159,17],[125,22,159,20,"API_URL"],[125,38,159,27],[125,39,159,27,"API_URL"],[125,46,159,27],[125,47,159,28,"replace"],[125,54,159,35],[125,55,159,36],[125,61,159,42],[125,63,159,44],[125,67,159,48],[125,68,159,49],[125,69,159,50,"replace"],[125,76,159,57],[125,77,159,58],[125,86,159,67],[125,88,159,69],[125,90,159,71],[125,91,159,72],[126,8,160,6],[126,14,160,12,"url"],[126,17,160,15],[126,20,160,18],[126,23,160,21,"wsUrl"],[126,28,160,26],[126,44,160,42,"businessId"],[126,54,160,52],[126,64,160,62,"token"],[126,69,160,67],[126,71,160,69],[127,8,162,6,"console"],[127,15,162,13],[127,16,162,14,"log"],[127,19,162,17],[127,20,162,18],[127,41,162,39],[127,43,162,41,"url"],[127,46,162,44],[127,47,162,45,"replace"],[127,54,162,52],[127,55,162,53,"token"],[127,60,162,58],[127,62,162,60],[127,67,162,65],[127,68,162,66],[127,69,162,67],[128,8,164,6,"wsRef"],[128,13,164,11],[128,14,164,12,"current"],[128,21,164,19],[128,24,164,22],[128,28,164,26,"WebSocket"],[128,37,164,35],[128,38,164,36,"url"],[128,41,164,39],[128,42,164,40],[129,8,166,6,"wsRef"],[129,13,166,11],[129,14,166,12,"current"],[129,21,166,19],[129,22,166,20,"onopen"],[129,28,166,26],[129,31,166,29],[129,37,166,35],[130,10,167,8,"console"],[130,17,167,15],[130,18,167,16,"log"],[130,21,167,19],[130,22,167,20],[130,38,167,36],[130,39,167,37],[131,10,168,8,"setConnected"],[131,22,168,20],[131,23,168,21],[131,27,168,25],[131,28,168,26],[132,10,169,8,"setReconnecting"],[132,25,169,23],[132,26,169,24],[132,31,169,29],[132,32,169,30],[133,10,170,8,"setReconnectAttempts"],[133,30,170,28],[133,31,170,29],[133,32,170,30],[133,33,170,31],[134,10,171,8,"onConnectionChange"],[134,28,171,26],[134,31,171,29],[134,35,171,33],[134,36,171,34],[135,10,172,8,"startPingInterval"],[135,27,172,25],[135,28,172,26],[135,29,172,27],[136,8,173,6],[136,9,173,7],[137,8,175,6,"wsRef"],[137,13,175,11],[137,14,175,12,"current"],[137,21,175,19],[137,22,175,20,"onmessage"],[137,31,175,29],[137,34,175,32,"handleMessage"],[137,47,175,45],[138,8,177,6,"wsRef"],[138,13,177,11],[138,14,177,12,"current"],[138,21,177,19],[138,22,177,20,"onerror"],[138,29,177,27],[138,32,177,31,"error"],[138,37,177,36],[138,41,177,41],[139,10,178,8,"console"],[139,17,178,15],[139,18,178,16,"error"],[139,23,178,21],[139,24,178,22],[139,37,178,35],[139,39,178,37,"error"],[139,44,178,42],[139,45,178,43],[140,8,179,6],[140,9,179,7],[141,8,181,6,"wsRef"],[141,13,181,11],[141,14,181,12,"current"],[141,21,181,19],[141,22,181,20,"onclose"],[141,29,181,27],[141,32,181,31,"event"],[141,37,181,36],[141,41,181,41],[142,10,182,8,"console"],[142,17,182,15],[142,18,182,16,"log"],[142,21,182,19],[142,22,182,20],[142,36,182,34],[142,38,182,36,"event"],[142,43,182,41],[142,44,182,42,"code"],[142,48,182,46],[142,50,182,48,"event"],[142,55,182,53],[142,56,182,54,"reason"],[142,62,182,60],[142,63,182,61],[143,10,183,8,"setConnected"],[143,22,183,20],[143,23,183,21],[143,28,183,26],[143,29,183,27],[144,10,184,8,"onConnectionChange"],[144,28,184,26],[144,31,184,29],[144,36,184,34],[144,37,184,35],[145,10,185,8,"clearTimers"],[145,21,185,19],[145,22,185,20],[145,23,185,21],[147,10,187,8],[148,10,188,8],[148,14,188,12],[148,15,188,13,"isManualDisconnect"],[148,33,188,31],[148,34,188,32,"current"],[148,41,188,39],[148,45,188,43,"reconnectAttempts"],[148,62,188,60],[148,65,188,63,"MAX_RECONNECT_ATTEMPTS"],[148,87,188,85],[148,89,188,87],[149,12,189,10,"setReconnecting"],[149,27,189,25],[149,28,189,26],[149,32,189,30],[149,33,189,31],[150,12,190,10],[150,18,190,16,"delay"],[150,23,190,21],[150,26,190,24,"getReconnectDelay"],[150,43,190,41],[150,44,190,42,"reconnectAttempts"],[150,61,190,59],[150,62,190,60],[151,12,191,10,"console"],[151,19,191,17],[151,20,191,18,"log"],[151,23,191,21],[151,24,191,22],[151,48,191,46,"delay"],[151,53,191,51],[151,68,191,66,"reconnectAttempts"],[151,85,191,83],[151,88,191,86],[151,89,191,87],[151,93,191,91,"MAX_RECONNECT_ATTEMPTS"],[151,115,191,113],[151,118,191,116],[151,119,191,117],[152,12,193,10,"reconnectTimeoutRef"],[152,31,193,29],[152,32,193,30,"current"],[152,39,193,37],[152,42,193,40,"setTimeout"],[152,52,193,50],[152,53,193,51],[152,59,193,57],[153,14,194,12,"setReconnectAttempts"],[153,34,194,32],[153,35,194,33,"prev"],[153,39,194,37],[153,43,194,41,"prev"],[153,47,194,45],[153,50,194,48],[153,51,194,49],[153,52,194,50],[154,14,195,12,"connect"],[154,21,195,19],[154,22,195,20],[154,23,195,21],[155,12,196,10],[155,13,196,11],[155,15,196,13,"delay"],[155,20,196,18],[155,21,196,19],[156,10,197,8],[156,11,197,9],[156,17,197,15],[156,21,197,19,"reconnectAttempts"],[156,38,197,36],[156,42,197,40,"MAX_RECONNECT_ATTEMPTS"],[156,64,197,62],[156,66,197,64],[157,12,198,10,"console"],[157,19,198,17],[157,20,198,18,"error"],[157,25,198,23],[157,26,198,24],[157,63,198,61],[157,64,198,62],[158,12,199,10,"setReconnecting"],[158,27,199,25],[158,28,199,26],[158,33,199,31],[158,34,199,32],[159,10,200,8],[160,8,201,6],[160,9,201,7],[161,6,202,4],[161,7,202,5],[161,8,202,6],[161,15,202,13,"error"],[161,20,202,18],[161,22,202,20],[162,8,203,6,"console"],[162,15,203,13],[162,16,203,14,"error"],[162,21,203,19],[162,22,203,20],[162,46,203,44],[162,48,203,46,"error"],[162,53,203,51],[162,54,203,52],[163,6,204,4],[164,4,205,2],[164,5,205,3],[164,7,205,5],[164,8,205,6,"businessId"],[164,18,205,16],[164,20,205,18,"handleMessage"],[164,33,205,31],[164,35,205,33,"startPingInterval"],[164,52,205,50],[164,54,205,52,"clearTimers"],[164,65,205,63],[164,67,205,65,"getReconnectDelay"],[164,84,205,82],[164,86,205,84,"reconnectAttempts"],[164,103,205,101],[164,105,205,103,"onConnectionChange"],[164,123,205,121],[164,124,205,122],[164,125,205,123],[166,4,207,2],[167,4,208,2],[167,10,208,8,"disconnect"],[167,20,208,18],[167,23,208,21],[167,27,208,21,"useCallback"],[167,33,208,32],[167,34,208,32,"useCallback"],[167,45,208,32],[167,47,208,33],[167,53,208,39],[168,6,209,4,"isManualDisconnect"],[168,24,209,22],[168,25,209,23,"current"],[168,32,209,30],[168,35,209,33],[168,39,209,37],[169,6,210,4,"clearTimers"],[169,17,210,15],[169,18,210,16],[169,19,210,17],[170,6,212,4],[170,10,212,8,"wsRef"],[170,15,212,13],[170,16,212,14,"current"],[170,23,212,21],[170,25,212,23],[171,8,213,6,"wsRef"],[171,13,213,11],[171,14,213,12,"current"],[171,21,213,19],[171,22,213,20,"close"],[171,27,213,25],[171,28,213,26],[171,32,213,30],[171,34,213,32],[171,53,213,51],[171,54,213,52],[172,8,214,6,"wsRef"],[172,13,214,11],[172,14,214,12,"current"],[172,21,214,19],[172,24,214,22],[172,28,214,26],[173,6,215,4],[174,6,217,4,"setConnected"],[174,18,217,16],[174,19,217,17],[174,24,217,22],[174,25,217,23],[175,6,218,4,"setReconnecting"],[175,21,218,19],[175,22,218,20],[175,27,218,25],[175,28,218,26],[176,6,219,4,"setReconnectAttempts"],[176,26,219,24],[176,27,219,25],[176,28,219,26],[176,29,219,27],[177,6,220,4,"onConnectionChange"],[177,24,220,22],[177,27,220,25],[177,32,220,30],[177,33,220,31],[178,4,221,2],[178,5,221,3],[178,7,221,5],[178,8,221,6,"clearTimers"],[178,19,221,17],[178,21,221,19,"onConnectionChange"],[178,39,221,37],[178,40,221,38],[178,41,221,39],[180,4,223,2],[181,4,224,2],[181,8,224,2,"useEffect"],[181,14,224,11],[181,15,224,11,"useEffect"],[181,24,224,11],[181,26,224,12],[181,32,224,18],[182,6,225,4],[182,10,225,8,"businessId"],[182,20,225,18],[182,22,225,20],[183,8,226,6,"connect"],[183,15,226,13],[183,16,226,14],[183,17,226,15],[184,6,227,4],[185,6,229,4],[185,13,229,11],[185,19,229,17],[186,8,230,6,"disconnect"],[186,18,230,16],[186,19,230,17],[186,20,230,18],[187,6,231,4],[187,7,231,5],[188,4,232,2],[188,5,232,3],[188,7,232,5],[188,8,232,6,"businessId"],[188,18,232,16],[188,19,232,17],[188,20,232,18],[188,21,232,19],[188,22,232,20],[190,4,234,2],[190,11,234,9],[191,6,235,4,"connected"],[191,15,235,13],[192,6,236,4,"reconnecting"],[192,18,236,16],[193,6,237,4,"reconnectAttempts"],[193,23,237,21],[194,6,238,4,"lastMessage"],[194,17,238,15],[195,6,239,4,"connect"],[195,13,239,11],[196,6,240,4,"disconnect"],[197,4,241,2],[197,5,241,3],[198,2,242,0],[199,2,242,1,"_s"],[199,4,242,1],[199,5,66,16,"useDispatchWebSocket"],[199,25,66,36],[200,2,244,0],[200,6,244,0,"_default"],[200,14,244,0],[200,17,244,15,"useDispatchWebSocket"],[200,37,244,35],[201,0,244,36],[201,3]],"functionMap":{"names":["<global>","useDispatchWebSocket","getReconnectDelay","clearTimers","handleMessage","startPingInterval","setInterval$argument_0","connect","wsRef.current.onopen","wsRef.current.onerror","wsRef.current.onclose","setTimeout$argument_0","setReconnectAttempts$argument_0","disconnect","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCiE;wCCmB;GDG;kCEG;GFS;oCGG;GH4B;wCIG;0CCC;KDI;GJC;8BMG;6BCuB;ODO;8BEI;OFE;8BGE;mDCY;iCCC,gBD;WDE;OHK;GNI;iCYG;GZa;YaG;WCK;KDE;GbC;CDU"},"hasCjsExports":false},"type":"js/module"}]}
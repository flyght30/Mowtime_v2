{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":99},"end":{"line":6,"column":65,"index":164}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":165},"end":{"line":7,"column":69,"index":234}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../constants/config","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":235},"end":{"line":8,"column":46,"index":281}}],"key":"TYW5XdhaoOjubMzak8TLCfBrAGc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  exports.useDispatchWebSocket = useDispatchWebSocket;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _constantsConfig = require(_dependencyMap[2], \"../constants/config\");\n  /**\n   * Dispatch WebSocket Hook\n   * Real-time updates for dispatch board with auto-reconnection\n   */\n\n  const MAX_RECONNECT_ATTEMPTS = 10;\n  const INITIAL_RECONNECT_DELAY = 1000; // 1 second\n  const MAX_RECONNECT_DELAY = 30000; // 30 seconds\n  const PING_INTERVAL = 30000; // 30 seconds\n\n  function useDispatchWebSocket({\n    businessId,\n    onTechLocation,\n    onTechStatus,\n    onJobAssigned,\n    onJobStatus,\n    onConnectionChange\n  }) {\n    const [connected, setConnected] = (0, _react.useState)(false);\n    const [reconnecting, setReconnecting] = (0, _react.useState)(false);\n    const [reconnectAttempts, setReconnectAttempts] = (0, _react.useState)(0);\n    const [lastMessage, setLastMessage] = (0, _react.useState)(null);\n    const wsRef = (0, _react.useRef)(null);\n    const reconnectTimeoutRef = (0, _react.useRef)(null);\n    const pingIntervalRef = (0, _react.useRef)(null);\n    const isManualDisconnect = (0, _react.useRef)(false);\n\n    // Calculate reconnect delay with exponential backoff\n    const getReconnectDelay = (0, _react.useCallback)(attempt => {\n      const delay = INITIAL_RECONNECT_DELAY * Math.pow(2, attempt);\n      return Math.min(delay, MAX_RECONNECT_DELAY);\n    }, []);\n\n    // Clean up timers\n    const clearTimers = (0, _react.useCallback)(() => {\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current);\n        reconnectTimeoutRef.current = null;\n      }\n      if (pingIntervalRef.current) {\n        clearInterval(pingIntervalRef.current);\n        pingIntervalRef.current = null;\n      }\n    }, []);\n\n    // Handle incoming messages\n    const handleMessage = (0, _react.useCallback)(event => {\n      try {\n        const message = JSON.parse(event.data);\n        setLastMessage(message);\n        switch (message.type) {\n          case 'tech_location':\n            onTechLocation?.(message.data);\n            break;\n          case 'tech_status':\n            onTechStatus?.(message.data);\n            break;\n          case 'job_assigned':\n            onJobAssigned?.(message.data);\n            break;\n          case 'job_status':\n            onJobStatus?.(message.data);\n            break;\n          case 'connected':\n            console.log('[WS] Connected to dispatch', message.data);\n            break;\n          case 'pong':\n            // Heartbeat response, connection is alive\n            break;\n        }\n      } catch (error) {\n        console.error('[WS] Failed to parse message:', error);\n      }\n    }, [onTechLocation, onTechStatus, onJobAssigned, onJobStatus]);\n\n    // Start ping interval to keep connection alive\n    const startPingInterval = (0, _react.useCallback)(() => {\n      pingIntervalRef.current = setInterval(() => {\n        if (wsRef.current?.readyState === WebSocket.OPEN) {\n          wsRef.current.send(JSON.stringify({\n            type: 'ping'\n          }));\n        }\n      }, PING_INTERVAL);\n    }, []);\n\n    // Connect to WebSocket\n    const connect = (0, _react.useCallback)(async () => {\n      if (wsRef.current?.readyState === WebSocket.OPEN) {\n        return; // Already connected\n      }\n      isManualDisconnect.current = false;\n      try {\n        // Get auth token\n        const token = await AsyncStorage.default.getItem('access_token');\n        if (!token) {\n          console.error('[WS] No auth token available');\n          return;\n        }\n\n        // Build WebSocket URL\n        const wsUrl = _constantsConfig.API_URL.replace('http', 'ws').replace('/api/v1', '');\n        const url = `${wsUrl}/ws/dispatch/${businessId}?token=${token}`;\n        console.log('[WS] Connecting to:', url.replace(token, '***'));\n        wsRef.current = new WebSocket(url);\n        wsRef.current.onopen = () => {\n          console.log('[WS] Connected');\n          setConnected(true);\n          setReconnecting(false);\n          setReconnectAttempts(0);\n          onConnectionChange?.(true);\n          startPingInterval();\n        };\n        wsRef.current.onmessage = handleMessage;\n        wsRef.current.onerror = error => {\n          console.error('[WS] Error:', error);\n        };\n        wsRef.current.onclose = event => {\n          console.log('[WS] Closed:', event.code, event.reason);\n          setConnected(false);\n          onConnectionChange?.(false);\n          clearTimers();\n\n          // Auto-reconnect unless manually disconnected\n          if (!isManualDisconnect.current && reconnectAttempts < MAX_RECONNECT_ATTEMPTS) {\n            setReconnecting(true);\n            const delay = getReconnectDelay(reconnectAttempts);\n            console.log(`[WS] Reconnecting in ${delay}ms (attempt ${reconnectAttempts + 1}/${MAX_RECONNECT_ATTEMPTS})`);\n            reconnectTimeoutRef.current = setTimeout(() => {\n              setReconnectAttempts(prev => prev + 1);\n              connect();\n            }, delay);\n          } else if (reconnectAttempts >= MAX_RECONNECT_ATTEMPTS) {\n            console.error('[WS] Max reconnect attempts reached');\n            setReconnecting(false);\n          }\n        };\n      } catch (error) {\n        console.error('[WS] Connection error:', error);\n      }\n    }, [businessId, handleMessage, startPingInterval, clearTimers, getReconnectDelay, reconnectAttempts, onConnectionChange]);\n\n    // Disconnect from WebSocket\n    const disconnect = (0, _react.useCallback)(() => {\n      isManualDisconnect.current = true;\n      clearTimers();\n      if (wsRef.current) {\n        wsRef.current.close(1000, 'Manual disconnect');\n        wsRef.current = null;\n      }\n      setConnected(false);\n      setReconnecting(false);\n      setReconnectAttempts(0);\n      onConnectionChange?.(false);\n    }, [clearTimers, onConnectionChange]);\n\n    // Connect on mount, disconnect on unmount\n    (0, _react.useEffect)(() => {\n      if (businessId) {\n        connect();\n      }\n      return () => {\n        disconnect();\n      };\n    }, [businessId]); // Only depend on businessId to avoid reconnecting on every render\n\n    return {\n      connected,\n      reconnecting,\n      reconnectAttempts,\n      lastMessage,\n      connect,\n      disconnect\n    };\n  }\n  var _default = useDispatchWebSocket;\n});","lineCount":199,"map":[[12,2,244,0,"Object"],[12,8,244,0],[12,9,244,0,"defineProperty"],[12,23,244,0],[12,24,244,0,"exports"],[12,31,244,0],[13,4,244,0,"enumerable"],[13,14,244,0],[14,4,244,0,"get"],[14,7,244,0],[14,18,244,0,"get"],[14,19,244,0],[15,6,244,0],[15,13,244,0,"_default"],[15,21,244,0],[16,4,244,0],[17,2,244,0],[18,2,66,0,"exports"],[18,9,66,0],[18,10,66,0,"useDispatchWebSocket"],[18,30,66,0],[18,33,66,0,"useDispatchWebSocket"],[18,53,66,0],[19,2,6,0],[19,6,6,0,"_react"],[19,12,6,0],[19,15,6,0,"require"],[19,22,6,0],[19,23,6,0,"_dependencyMap"],[19,37,6,0],[20,2,7,0],[20,6,7,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,7,0],[20,45,7,0,"require"],[20,52,7,0],[20,53,7,0,"_dependencyMap"],[20,67,7,0],[21,2,7,0],[21,6,7,0,"AsyncStorage"],[21,18,7,0],[21,21,7,0,"_interopDefault"],[21,36,7,0],[21,37,7,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,7,0],[22,2,8,0],[22,6,8,0,"_constantsConfig"],[22,22,8,0],[22,25,8,0,"require"],[22,32,8,0],[22,33,8,0,"_dependencyMap"],[22,47,8,0],[23,2,1,0],[24,0,2,0],[25,0,3,0],[26,0,4,0],[28,2,61,0],[28,8,61,6,"MAX_RECONNECT_ATTEMPTS"],[28,30,61,28],[28,33,61,31],[28,35,61,33],[29,2,62,0],[29,8,62,6,"INITIAL_RECONNECT_DELAY"],[29,31,62,29],[29,34,62,32],[29,38,62,36],[29,39,62,37],[29,40,62,38],[30,2,63,0],[30,8,63,6,"MAX_RECONNECT_DELAY"],[30,27,63,25],[30,30,63,28],[30,35,63,33],[30,36,63,34],[30,37,63,35],[31,2,64,0],[31,8,64,6,"PING_INTERVAL"],[31,21,64,19],[31,24,64,22],[31,29,64,27],[31,30,64,28],[31,31,64,29],[33,2,66,7],[33,11,66,16,"useDispatchWebSocket"],[33,31,66,36,"useDispatchWebSocket"],[33,32,66,37],[34,4,67,2,"businessId"],[34,14,67,12],[35,4,68,2,"onTechLocation"],[35,18,68,16],[36,4,69,2,"onTechStatus"],[36,16,69,14],[37,4,70,2,"onJobAssigned"],[37,17,70,15],[38,4,71,2,"onJobStatus"],[38,15,71,13],[39,4,72,2,"onConnectionChange"],[40,2,73,29],[40,3,73,30],[40,5,73,60],[41,4,74,2],[41,10,74,8],[41,11,74,9,"connected"],[41,20,74,18],[41,22,74,20,"setConnected"],[41,34,74,32],[41,35,74,33],[41,38,74,36],[41,42,74,36,"useState"],[41,48,74,44],[41,49,74,44,"useState"],[41,57,74,44],[41,59,74,45],[41,64,74,50],[41,65,74,51],[42,4,75,2],[42,10,75,8],[42,11,75,9,"reconnecting"],[42,23,75,21],[42,25,75,23,"setReconnecting"],[42,40,75,38],[42,41,75,39],[42,44,75,42],[42,48,75,42,"useState"],[42,54,75,50],[42,55,75,50,"useState"],[42,63,75,50],[42,65,75,51],[42,70,75,56],[42,71,75,57],[43,4,76,2],[43,10,76,8],[43,11,76,9,"reconnectAttempts"],[43,28,76,26],[43,30,76,28,"setReconnectAttempts"],[43,50,76,48],[43,51,76,49],[43,54,76,52],[43,58,76,52,"useState"],[43,64,76,60],[43,65,76,60,"useState"],[43,73,76,60],[43,75,76,61],[43,76,76,62],[43,77,76,63],[44,4,77,2],[44,10,77,8],[44,11,77,9,"lastMessage"],[44,22,77,20],[44,24,77,22,"setLastMessage"],[44,38,77,36],[44,39,77,37],[44,42,77,40],[44,46,77,40,"useState"],[44,52,77,48],[44,53,77,48,"useState"],[44,61,77,48],[44,63,77,74],[44,67,77,78],[44,68,77,79],[45,4,79,2],[45,10,79,8,"wsRef"],[45,15,79,13],[45,18,79,16],[45,22,79,16,"useRef"],[45,28,79,22],[45,29,79,22,"useRef"],[45,35,79,22],[45,37,79,41],[45,41,79,45],[45,42,79,46],[46,4,80,2],[46,10,80,8,"reconnectTimeoutRef"],[46,29,80,27],[46,32,80,30],[46,36,80,30,"useRef"],[46,42,80,36],[46,43,80,36,"useRef"],[46,49,80,36],[46,51,80,75],[46,55,80,79],[46,56,80,80],[47,4,81,2],[47,10,81,8,"pingIntervalRef"],[47,25,81,23],[47,28,81,26],[47,32,81,26,"useRef"],[47,38,81,32],[47,39,81,32,"useRef"],[47,45,81,32],[47,47,81,72],[47,51,81,76],[47,52,81,77],[48,4,82,2],[48,10,82,8,"isManualDisconnect"],[48,28,82,26],[48,31,82,29],[48,35,82,29,"useRef"],[48,41,82,35],[48,42,82,35,"useRef"],[48,48,82,35],[48,50,82,36],[48,55,82,41],[48,56,82,42],[50,4,84,2],[51,4,85,2],[51,10,85,8,"getReconnectDelay"],[51,27,85,25],[51,30,85,28],[51,34,85,28,"useCallback"],[51,40,85,39],[51,41,85,39,"useCallback"],[51,52,85,39],[51,54,85,41,"attempt"],[51,61,85,56],[51,65,85,69],[52,6,86,4],[52,12,86,10,"delay"],[52,17,86,15],[52,20,86,18,"INITIAL_RECONNECT_DELAY"],[52,43,86,41],[52,46,86,44,"Math"],[52,50,86,48],[52,51,86,49,"pow"],[52,54,86,52],[52,55,86,53],[52,56,86,54],[52,58,86,56,"attempt"],[52,65,86,63],[52,66,86,64],[53,6,87,4],[53,13,87,11,"Math"],[53,17,87,15],[53,18,87,16,"min"],[53,21,87,19],[53,22,87,20,"delay"],[53,27,87,25],[53,29,87,27,"MAX_RECONNECT_DELAY"],[53,48,87,46],[53,49,87,47],[54,4,88,2],[54,5,88,3],[54,7,88,5],[54,9,88,7],[54,10,88,8],[56,4,90,2],[57,4,91,2],[57,10,91,8,"clearTimers"],[57,21,91,19],[57,24,91,22],[57,28,91,22,"useCallback"],[57,34,91,33],[57,35,91,33,"useCallback"],[57,46,91,33],[57,48,91,34],[57,54,91,40],[58,6,92,4],[58,10,92,8,"reconnectTimeoutRef"],[58,29,92,27],[58,30,92,28,"current"],[58,37,92,35],[58,39,92,37],[59,8,93,6,"clearTimeout"],[59,20,93,18],[59,21,93,19,"reconnectTimeoutRef"],[59,40,93,38],[59,41,93,39,"current"],[59,48,93,46],[59,49,93,47],[60,8,94,6,"reconnectTimeoutRef"],[60,27,94,25],[60,28,94,26,"current"],[60,35,94,33],[60,38,94,36],[60,42,94,40],[61,6,95,4],[62,6,96,4],[62,10,96,8,"pingIntervalRef"],[62,25,96,23],[62,26,96,24,"current"],[62,33,96,31],[62,35,96,33],[63,8,97,6,"clearInterval"],[63,21,97,19],[63,22,97,20,"pingIntervalRef"],[63,37,97,35],[63,38,97,36,"current"],[63,45,97,43],[63,46,97,44],[64,8,98,6,"pingIntervalRef"],[64,23,98,21],[64,24,98,22,"current"],[64,31,98,29],[64,34,98,32],[64,38,98,36],[65,6,99,4],[66,4,100,2],[66,5,100,3],[66,7,100,5],[66,9,100,7],[66,10,100,8],[68,4,102,2],[69,4,103,2],[69,10,103,8,"handleMessage"],[69,23,103,21],[69,26,103,24],[69,30,103,24,"useCallback"],[69,36,103,35],[69,37,103,35,"useCallback"],[69,48,103,35],[69,50,103,37,"event"],[69,55,103,56],[69,59,103,61],[70,6,104,4],[70,10,104,8],[71,8,105,6],[71,14,105,12,"message"],[71,21,105,37],[71,24,105,40,"JSON"],[71,28,105,44],[71,29,105,45,"parse"],[71,34,105,50],[71,35,105,51,"event"],[71,40,105,56],[71,41,105,57,"data"],[71,45,105,61],[71,46,105,62],[72,8,106,6,"setLastMessage"],[72,22,106,20],[72,23,106,21,"message"],[72,30,106,28],[72,31,106,29],[73,8,108,6],[73,16,108,14,"message"],[73,23,108,21],[73,24,108,22,"type"],[73,28,108,26],[74,10,109,8],[74,15,109,13],[74,30,109,28],[75,12,110,10,"onTechLocation"],[75,26,110,24],[75,29,110,27,"message"],[75,36,110,34],[75,37,110,35,"data"],[75,41,110,39],[75,42,110,40],[76,12,111,10],[77,10,112,8],[77,15,112,13],[77,28,112,26],[78,12,113,10,"onTechStatus"],[78,24,113,22],[78,27,113,25,"message"],[78,34,113,32],[78,35,113,33,"data"],[78,39,113,37],[78,40,113,38],[79,12,114,10],[80,10,115,8],[80,15,115,13],[80,29,115,27],[81,12,116,10,"onJobAssigned"],[81,25,116,23],[81,28,116,26,"message"],[81,35,116,33],[81,36,116,34,"data"],[81,40,116,38],[81,41,116,39],[82,12,117,10],[83,10,118,8],[83,15,118,13],[83,27,118,25],[84,12,119,10,"onJobStatus"],[84,23,119,21],[84,26,119,24,"message"],[84,33,119,31],[84,34,119,32,"data"],[84,38,119,36],[84,39,119,37],[85,12,120,10],[86,10,121,8],[86,15,121,13],[86,26,121,24],[87,12,122,10,"console"],[87,19,122,17],[87,20,122,18,"log"],[87,23,122,21],[87,24,122,22],[87,52,122,50],[87,54,122,52,"message"],[87,61,122,59],[87,62,122,60,"data"],[87,66,122,64],[87,67,122,65],[88,12,123,10],[89,10,124,8],[89,15,124,13],[89,21,124,19],[90,12,125,10],[91,12,126,10],[92,8,127,6],[93,6,128,4],[93,7,128,5],[93,8,128,6],[93,15,128,13,"error"],[93,20,128,18],[93,22,128,20],[94,8,129,6,"console"],[94,15,129,13],[94,16,129,14,"error"],[94,21,129,19],[94,22,129,20],[94,53,129,51],[94,55,129,53,"error"],[94,60,129,58],[94,61,129,59],[95,6,130,4],[96,4,131,2],[96,5,131,3],[96,7,131,5],[96,8,131,6,"onTechLocation"],[96,22,131,20],[96,24,131,22,"onTechStatus"],[96,36,131,34],[96,38,131,36,"onJobAssigned"],[96,51,131,49],[96,53,131,51,"onJobStatus"],[96,64,131,62],[96,65,131,63],[96,66,131,64],[98,4,133,2],[99,4,134,2],[99,10,134,8,"startPingInterval"],[99,27,134,25],[99,30,134,28],[99,34,134,28,"useCallback"],[99,40,134,39],[99,41,134,39,"useCallback"],[99,52,134,39],[99,54,134,40],[99,60,134,46],[100,6,135,4,"pingIntervalRef"],[100,21,135,19],[100,22,135,20,"current"],[100,29,135,27],[100,32,135,30,"setInterval"],[100,43,135,41],[100,44,135,42],[100,50,135,48],[101,8,136,6],[101,12,136,10,"wsRef"],[101,17,136,15],[101,18,136,16,"current"],[101,25,136,23],[101,27,136,25,"readyState"],[101,37,136,35],[101,42,136,40,"WebSocket"],[101,51,136,49],[101,52,136,50,"OPEN"],[101,56,136,54],[101,58,136,56],[102,10,137,8,"wsRef"],[102,15,137,13],[102,16,137,14,"current"],[102,23,137,21],[102,24,137,22,"send"],[102,28,137,26],[102,29,137,27,"JSON"],[102,33,137,31],[102,34,137,32,"stringify"],[102,43,137,41],[102,44,137,42],[103,12,137,44,"type"],[103,16,137,48],[103,18,137,50],[104,10,137,57],[104,11,137,58],[104,12,137,59],[104,13,137,60],[105,8,138,6],[106,6,139,4],[106,7,139,5],[106,9,139,7,"PING_INTERVAL"],[106,22,139,20],[106,23,139,21],[107,4,140,2],[107,5,140,3],[107,7,140,5],[107,9,140,7],[107,10,140,8],[109,4,142,2],[110,4,143,2],[110,10,143,8,"connect"],[110,17,143,15],[110,20,143,18],[110,24,143,18,"useCallback"],[110,30,143,29],[110,31,143,29,"useCallback"],[110,42,143,29],[110,44,143,30],[110,56,143,42],[111,6,144,4],[111,10,144,8,"wsRef"],[111,15,144,13],[111,16,144,14,"current"],[111,23,144,21],[111,25,144,23,"readyState"],[111,35,144,33],[111,40,144,38,"WebSocket"],[111,49,144,47],[111,50,144,48,"OPEN"],[111,54,144,52],[111,56,144,54],[112,8,145,6],[112,15,145,13],[112,16,145,14],[113,6,146,4],[114,6,148,4,"isManualDisconnect"],[114,24,148,22],[114,25,148,23,"current"],[114,32,148,30],[114,35,148,33],[114,40,148,38],[115,6,150,4],[115,10,150,8],[116,8,151,6],[117,8,152,6],[117,14,152,12,"token"],[117,19,152,17],[117,22,152,20],[117,28,152,26,"AsyncStorage"],[117,40,152,38],[117,41,152,38,"default"],[117,48,152,38],[117,49,152,39,"getItem"],[117,56,152,46],[117,57,152,47],[117,71,152,61],[117,72,152,62],[118,8,153,6],[118,12,153,10],[118,13,153,11,"token"],[118,18,153,16],[118,20,153,18],[119,10,154,8,"console"],[119,17,154,15],[119,18,154,16,"error"],[119,23,154,21],[119,24,154,22],[119,54,154,52],[119,55,154,53],[120,10,155,8],[121,8,156,6],[123,8,158,6],[124,8,159,6],[124,14,159,12,"wsUrl"],[124,19,159,17],[124,22,159,20,"API_URL"],[124,38,159,27],[124,39,159,27,"API_URL"],[124,46,159,27],[124,47,159,28,"replace"],[124,54,159,35],[124,55,159,36],[124,61,159,42],[124,63,159,44],[124,67,159,48],[124,68,159,49],[124,69,159,50,"replace"],[124,76,159,57],[124,77,159,58],[124,86,159,67],[124,88,159,69],[124,90,159,71],[124,91,159,72],[125,8,160,6],[125,14,160,12,"url"],[125,17,160,15],[125,20,160,18],[125,23,160,21,"wsUrl"],[125,28,160,26],[125,44,160,42,"businessId"],[125,54,160,52],[125,64,160,62,"token"],[125,69,160,67],[125,71,160,69],[126,8,162,6,"console"],[126,15,162,13],[126,16,162,14,"log"],[126,19,162,17],[126,20,162,18],[126,41,162,39],[126,43,162,41,"url"],[126,46,162,44],[126,47,162,45,"replace"],[126,54,162,52],[126,55,162,53,"token"],[126,60,162,58],[126,62,162,60],[126,67,162,65],[126,68,162,66],[126,69,162,67],[127,8,164,6,"wsRef"],[127,13,164,11],[127,14,164,12,"current"],[127,21,164,19],[127,24,164,22],[127,28,164,26,"WebSocket"],[127,37,164,35],[127,38,164,36,"url"],[127,41,164,39],[127,42,164,40],[128,8,166,6,"wsRef"],[128,13,166,11],[128,14,166,12,"current"],[128,21,166,19],[128,22,166,20,"onopen"],[128,28,166,26],[128,31,166,29],[128,37,166,35],[129,10,167,8,"console"],[129,17,167,15],[129,18,167,16,"log"],[129,21,167,19],[129,22,167,20],[129,38,167,36],[129,39,167,37],[130,10,168,8,"setConnected"],[130,22,168,20],[130,23,168,21],[130,27,168,25],[130,28,168,26],[131,10,169,8,"setReconnecting"],[131,25,169,23],[131,26,169,24],[131,31,169,29],[131,32,169,30],[132,10,170,8,"setReconnectAttempts"],[132,30,170,28],[132,31,170,29],[132,32,170,30],[132,33,170,31],[133,10,171,8,"onConnectionChange"],[133,28,171,26],[133,31,171,29],[133,35,171,33],[133,36,171,34],[134,10,172,8,"startPingInterval"],[134,27,172,25],[134,28,172,26],[134,29,172,27],[135,8,173,6],[135,9,173,7],[136,8,175,6,"wsRef"],[136,13,175,11],[136,14,175,12,"current"],[136,21,175,19],[136,22,175,20,"onmessage"],[136,31,175,29],[136,34,175,32,"handleMessage"],[136,47,175,45],[137,8,177,6,"wsRef"],[137,13,177,11],[137,14,177,12,"current"],[137,21,177,19],[137,22,177,20,"onerror"],[137,29,177,27],[137,32,177,31,"error"],[137,37,177,36],[137,41,177,41],[138,10,178,8,"console"],[138,17,178,15],[138,18,178,16,"error"],[138,23,178,21],[138,24,178,22],[138,37,178,35],[138,39,178,37,"error"],[138,44,178,42],[138,45,178,43],[139,8,179,6],[139,9,179,7],[140,8,181,6,"wsRef"],[140,13,181,11],[140,14,181,12,"current"],[140,21,181,19],[140,22,181,20,"onclose"],[140,29,181,27],[140,32,181,31,"event"],[140,37,181,36],[140,41,181,41],[141,10,182,8,"console"],[141,17,182,15],[141,18,182,16,"log"],[141,21,182,19],[141,22,182,20],[141,36,182,34],[141,38,182,36,"event"],[141,43,182,41],[141,44,182,42,"code"],[141,48,182,46],[141,50,182,48,"event"],[141,55,182,53],[141,56,182,54,"reason"],[141,62,182,60],[141,63,182,61],[142,10,183,8,"setConnected"],[142,22,183,20],[142,23,183,21],[142,28,183,26],[142,29,183,27],[143,10,184,8,"onConnectionChange"],[143,28,184,26],[143,31,184,29],[143,36,184,34],[143,37,184,35],[144,10,185,8,"clearTimers"],[144,21,185,19],[144,22,185,20],[144,23,185,21],[146,10,187,8],[147,10,188,8],[147,14,188,12],[147,15,188,13,"isManualDisconnect"],[147,33,188,31],[147,34,188,32,"current"],[147,41,188,39],[147,45,188,43,"reconnectAttempts"],[147,62,188,60],[147,65,188,63,"MAX_RECONNECT_ATTEMPTS"],[147,87,188,85],[147,89,188,87],[148,12,189,10,"setReconnecting"],[148,27,189,25],[148,28,189,26],[148,32,189,30],[148,33,189,31],[149,12,190,10],[149,18,190,16,"delay"],[149,23,190,21],[149,26,190,24,"getReconnectDelay"],[149,43,190,41],[149,44,190,42,"reconnectAttempts"],[149,61,190,59],[149,62,190,60],[150,12,191,10,"console"],[150,19,191,17],[150,20,191,18,"log"],[150,23,191,21],[150,24,191,22],[150,48,191,46,"delay"],[150,53,191,51],[150,68,191,66,"reconnectAttempts"],[150,85,191,83],[150,88,191,86],[150,89,191,87],[150,93,191,91,"MAX_RECONNECT_ATTEMPTS"],[150,115,191,113],[150,118,191,116],[150,119,191,117],[151,12,193,10,"reconnectTimeoutRef"],[151,31,193,29],[151,32,193,30,"current"],[151,39,193,37],[151,42,193,40,"setTimeout"],[151,52,193,50],[151,53,193,51],[151,59,193,57],[152,14,194,12,"setReconnectAttempts"],[152,34,194,32],[152,35,194,33,"prev"],[152,39,194,37],[152,43,194,41,"prev"],[152,47,194,45],[152,50,194,48],[152,51,194,49],[152,52,194,50],[153,14,195,12,"connect"],[153,21,195,19],[153,22,195,20],[153,23,195,21],[154,12,196,10],[154,13,196,11],[154,15,196,13,"delay"],[154,20,196,18],[154,21,196,19],[155,10,197,8],[155,11,197,9],[155,17,197,15],[155,21,197,19,"reconnectAttempts"],[155,38,197,36],[155,42,197,40,"MAX_RECONNECT_ATTEMPTS"],[155,64,197,62],[155,66,197,64],[156,12,198,10,"console"],[156,19,198,17],[156,20,198,18,"error"],[156,25,198,23],[156,26,198,24],[156,63,198,61],[156,64,198,62],[157,12,199,10,"setReconnecting"],[157,27,199,25],[157,28,199,26],[157,33,199,31],[157,34,199,32],[158,10,200,8],[159,8,201,6],[159,9,201,7],[160,6,202,4],[160,7,202,5],[160,8,202,6],[160,15,202,13,"error"],[160,20,202,18],[160,22,202,20],[161,8,203,6,"console"],[161,15,203,13],[161,16,203,14,"error"],[161,21,203,19],[161,22,203,20],[161,46,203,44],[161,48,203,46,"error"],[161,53,203,51],[161,54,203,52],[162,6,204,4],[163,4,205,2],[163,5,205,3],[163,7,205,5],[163,8,205,6,"businessId"],[163,18,205,16],[163,20,205,18,"handleMessage"],[163,33,205,31],[163,35,205,33,"startPingInterval"],[163,52,205,50],[163,54,205,52,"clearTimers"],[163,65,205,63],[163,67,205,65,"getReconnectDelay"],[163,84,205,82],[163,86,205,84,"reconnectAttempts"],[163,103,205,101],[163,105,205,103,"onConnectionChange"],[163,123,205,121],[163,124,205,122],[163,125,205,123],[165,4,207,2],[166,4,208,2],[166,10,208,8,"disconnect"],[166,20,208,18],[166,23,208,21],[166,27,208,21,"useCallback"],[166,33,208,32],[166,34,208,32,"useCallback"],[166,45,208,32],[166,47,208,33],[166,53,208,39],[167,6,209,4,"isManualDisconnect"],[167,24,209,22],[167,25,209,23,"current"],[167,32,209,30],[167,35,209,33],[167,39,209,37],[168,6,210,4,"clearTimers"],[168,17,210,15],[168,18,210,16],[168,19,210,17],[169,6,212,4],[169,10,212,8,"wsRef"],[169,15,212,13],[169,16,212,14,"current"],[169,23,212,21],[169,25,212,23],[170,8,213,6,"wsRef"],[170,13,213,11],[170,14,213,12,"current"],[170,21,213,19],[170,22,213,20,"close"],[170,27,213,25],[170,28,213,26],[170,32,213,30],[170,34,213,32],[170,53,213,51],[170,54,213,52],[171,8,214,6,"wsRef"],[171,13,214,11],[171,14,214,12,"current"],[171,21,214,19],[171,24,214,22],[171,28,214,26],[172,6,215,4],[173,6,217,4,"setConnected"],[173,18,217,16],[173,19,217,17],[173,24,217,22],[173,25,217,23],[174,6,218,4,"setReconnecting"],[174,21,218,19],[174,22,218,20],[174,27,218,25],[174,28,218,26],[175,6,219,4,"setReconnectAttempts"],[175,26,219,24],[175,27,219,25],[175,28,219,26],[175,29,219,27],[176,6,220,4,"onConnectionChange"],[176,24,220,22],[176,27,220,25],[176,32,220,30],[176,33,220,31],[177,4,221,2],[177,5,221,3],[177,7,221,5],[177,8,221,6,"clearTimers"],[177,19,221,17],[177,21,221,19,"onConnectionChange"],[177,39,221,37],[177,40,221,38],[177,41,221,39],[179,4,223,2],[180,4,224,2],[180,8,224,2,"useEffect"],[180,14,224,11],[180,15,224,11,"useEffect"],[180,24,224,11],[180,26,224,12],[180,32,224,18],[181,6,225,4],[181,10,225,8,"businessId"],[181,20,225,18],[181,22,225,20],[182,8,226,6,"connect"],[182,15,226,13],[182,16,226,14],[182,17,226,15],[183,6,227,4],[184,6,229,4],[184,13,229,11],[184,19,229,17],[185,8,230,6,"disconnect"],[185,18,230,16],[185,19,230,17],[185,20,230,18],[186,6,231,4],[186,7,231,5],[187,4,232,2],[187,5,232,3],[187,7,232,5],[187,8,232,6,"businessId"],[187,18,232,16],[187,19,232,17],[187,20,232,18],[187,21,232,19],[187,22,232,20],[189,4,234,2],[189,11,234,9],[190,6,235,4,"connected"],[190,15,235,13],[191,6,236,4,"reconnecting"],[191,18,236,16],[192,6,237,4,"reconnectAttempts"],[192,23,237,21],[193,6,238,4,"lastMessage"],[193,17,238,15],[194,6,239,4,"connect"],[194,13,239,11],[195,6,240,4,"disconnect"],[196,4,241,2],[196,5,241,3],[197,2,242,0],[198,2,244,0],[198,6,244,0,"_default"],[198,14,244,0],[198,17,244,15,"useDispatchWebSocket"],[198,37,244,35],[199,0,244,36],[199,3]],"functionMap":{"names":["<global>","useDispatchWebSocket","getReconnectDelay","clearTimers","handleMessage","startPingInterval","setInterval$argument_0","connect","wsRef.current.onopen","wsRef.current.onerror","wsRef.current.onclose","setTimeout$argument_0","setReconnectAttempts$argument_0","disconnect","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCiE;wCCmB;GDG;kCEG;GFS;oCGG;GH4B;wCIG;0CCC;KDI;GJC;8BMG;6BCuB;ODO;8BEI;OFE;8BGE;mDCY;iCCC,gBD;WDE;OHK;GNI;iCYG;GZa;YaG;WCK;KDE;GbC;CDU"},"hasCjsExports":false},"type":"js/module"}]}